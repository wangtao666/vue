!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vue-citys-picker",[],t):"object"==typeof exports?exports["vue-citys-picker"]=t():e["vue-citys-picker"]=t()}(this,function(){return function(e){function t(a){if(o[a])return o[a].exports;var i=o[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="/dist/",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),l=a(i);t.default=l.default,window.citysPicker=l.default},function(e,t,o){var a,i,l={};a=o(3),i=o(9),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default);var n="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;i&&(n.template=i),n.computed||(n.computed={}),Object.keys(l).forEach(function(e){var t=l[e];n.computed[e]=function(){return t}})},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),l=a(i);o(5),t.default={name:"citysPicker",components:{Scroller:l.default},props:["initValue","city"],data:function(){return{defaultValue:[{name:"北京",value:"110000"},{name:"北京市",value:"110100"},{name:"昌平区",value:"110114"}],scrollData:[{defaultValue:"",data:[]},{defaultValue:"",data:[]},{defaultValue:"",data:[]}],selectValue:[]}},created:function(){this.city?(this.defaultValue=this.initValue||this.defaultValue,this.readProvince(this.defaultValue[0]),this.readCity(this.defaultValue[1]),this.readArea(this.defaultValue[1]),this.scrollData[0].data=this.provinceData,this.scrollData[0].defaultValue=this.defaultValue[0].value,this.scrollData[1].data=this.cityData,this.scrollData[1].defaultValue=this.defaultValue[1].value,this.scrollData[2].data=this.areaData,this.scrollData[2].defaultValue=this.defaultValue[2].value,this.selectValue[0]=this.defaultValue[0],this.selectValue[1]=this.defaultValue[1],this.selectValue[2]=this.defaultValue[2]):console.error("省市区数据不能为空！")},methods:{readProvince:function(e){this.provinceData=[],e=e||{value:this.city[0].code,name:this.city[0].name},this.provinceIndex=0;var t={};if(this.city)for(var o=this.city,a=0,i=o.length;a<i;a++)t.name=o[a].name,t.value=o[a].code,this.provinceData.push(t),t={},o[a].code===e.value&&(this.provinceIndex=a)},readCity:function(e){this.cityData=[],this.cityIndex=0,e=e||{value:this.city[0].code,name:this.city[0].name};var t={};if(this.city)for(var o=this.city[this.provinceIndex].children,a=0,i=o.length;a<i;a++)t.name=o[a].name,t.value=o[a].code,this.cityData.push(t),t={},o[a].code===e.value&&(this.cityIndex=a)},readArea:function(e){this.areaData=[],e=e||{value:this.cityData[0].value,name:this.cityData[0].name};var t={};if(this.city)for(var o=this.city[this.provinceIndex].children[this.cityIndex].children,a=0,i=o.length;a<i;a++)t.name=o[a].name,t.value=o[a].code,this.areaData.push(t),t={}},addressConfirm:function(e){this.$emit("confirm",e),console.log(e)},addressClaer:function(e){},addressChange:function(e){var t=this;if(e[0].value!==t.selectValue[0].value){t.selectValue[0]=e[0];for(var o=0,a=t.provinceData.length;o<a;o++)if(t.provinceData[o].value===e[0].value){t.provinceIndex=o;break}t.readCity(e[0]),t.scrollData[1].data=t.cityData,t.cityIndex=0,t.readArea(),t.scrollData[2].data=t.areaData}if(e[1]&&e[1].value!==t.selectValue[1].value){t.selectValue[1]=e[1];for(var o=0,a=t.cityData.length;o<a;o++)if(t.cityData[o].value===e[1].value){t.cityIndex=o;break}t.readArea({value:e[1].value,name:e[1].name}),t.scrollData[2].data=t.areaData}},open:function(){this.city&&this.$refs.scroller.open()}}}},function(e,t,o){!function(t,o){e.exports=o()}(this,function(){return function(e){function t(a){if(o[a])return o[a].exports;var i=o[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="/dist/",t(0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(2),l=a(i);t.default=l.default,window.Scroller=l.default},function(e,t,o){var a,i;o(3),a=o(7),i=o(15),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},function(e,t){},,,,function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=o(8),n=a(l);t.default={name:"scroller",components:{scrollSlot:n.default},props:["scroll"],data:function(){return{isShow:!1,selectedValues:[]}},mounted:function(){var e=this;e.scroll.forEach(function(t){var o=t.defaultValue||0;if("object"===("undefined"==typeof t?"undefined":i(t)))for(var a=0;a<t.data.length;a++)t.data[a].value===o&&e.selectedValues.push(t.data[a]);else for(var a=0;a<t.length;a++)t.data[a]===o&&e.selectedValues.push(t.data[a])})},methods:{getData:function(e,t){var o=this;o.selectedValues[e]=t,this.$emit("change",o.selectedValues)},open:function(){var e=this;e.isShow=!0},close:function(e){this.isShow=!1,this.$emit(e)},confirm:function(e){this.$emit(e,this.selectedValues),this.isShow=!1}}}},function(e,t,o){var a,i;o(9),a=o(11),i=o(14),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},function(e,t){},,function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(12),l=a(i);t.default={name:"scrollerSlot",props:{scrollData:{type:Array,required:!0},defaultValue:{required:!0},slotIndex:{type:Number}},data:function(){return{selectedValue:{}}},mounted:function(){var e=this;e.init(e.$el,{onSelect:function(t){e.selectedValue=t,e.$emit("change-solt",e.slotIndex,e.selectedValue)}})},methods:{getElement:function(e){return"string"==typeof e?document.querySelector(e):e},getComputedStyle1:function(e,t){var o=window.getComputedStyle(e);return o[t]||""},init:function(e,t){this.members=(0,l.default)();var o=this.members;t=t||{},o.options={itemClass:"scroller-item",onSelect:function(){},defaultValue:this.defaultValue||0,data:this.scrollData};for(var a in t)void 0!==t[a]&&(o.options[a]=t[a]);var i=o.__component=e,n=o.__content=i.querySelector("[data-role=content]"),r=i.querySelector("[data-role=indicator]");o.__itemHeight=parseInt(this.getComputedStyle1(r,"height"),10),o.__callback=t.callback||function(e){n.style.webkitTransform="translate3d(0, "+-e+"px, 0)"};var s=i.getBoundingClientRect();o.__clientTop=s.top+i.clientTop||0,o.__setDimensions(i.clientHeight,n.offsetHeight),o.select(o.options.defaultValue,!1),i.addEventListener("touchstart",function(e){e.target.tagName.match(/input|textarea|select/i)||(e.preventDefault(),o.__doTouchStart(e.touches,e.timeStamp))},!1),i.addEventListener("touchmove",function(e){o.__doTouchMove(e.touches,e.timeStamp)},!1),i.addEventListener("touchend",function(e){o.__doTouchEnd(e.timeStamp)},!1)}},watch:{scrollData:function(e,t){var o=this.members;o.options.data=e,o.__setDimensions(o.__component.clientHeight,o.__content.offsetHeight),setTimeout(function(){o.select(null,!1)},10)}}}},function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return Math.pow(e-1,3)+1}function l(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}Object.defineProperty(t,"__esModule",{value:!0});var n=o(13),r=a(n),s=function(){return{value:null,__prevValue:null,__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientTop:0,__clientHeight:0,__contentHeight:0,__itemHeight:0,__scrollTop:0,__minScrollTop:0,__maxScrollTop:0,__scheduledTop:0,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollTop:null,__maxDecelerationScrollTop:null,__decelerationVelocityY:null,__setDimensions:function(e,t){var o=this;o.__clientHeight=e,o.__contentHeight=t;var a=o.options.data.length,i=Math.round(o.__clientHeight/o.__itemHeight);o.__minScrollTop=-o.__itemHeight*(i/2),o.__maxScrollTop=o.__minScrollTop+a*o.__itemHeight-.1},selectByIndex:function(e,t){var o=this;e<0||e>o.__content.childElementCount-1||(o.__scrollTop=o.__minScrollTop+e*o.__itemHeight,o.scrollTo(o.__scrollTop,t),o.__selectItem(o.__content.children[e]))},select:function(e,t){for(var o=this,a=0,i=o.options.data.length;a<i;a++)if(o.options.data[a].value===e)return void o.selectByIndex(a,t);o.selectByIndex(0,t)},scrollTo:function(e,t){var o=this;return t=void 0===t||t,o.__isDecelerating&&(r.default.stop(o.__isDecelerating),o.__isDecelerating=!1),e=Math.round(e/o.__itemHeight)*o.__itemHeight,e=Math.max(Math.min(o.__maxScrollTop,e),o.__minScrollTop),e!==o.__scrollTop&&t?void o.__publish(e,250):(o.__publish(e),void o.__scrollingComplete())},destroy:function(){this.__component.parentNode.removeChild(this.__component)},__selectItem:function(e){var t=this,o=t.options.itemClass+"-selected",a=t.__content.querySelector("."+o);a&&a.classList.remove(o),e.classList.add(o),null!==t.value&&(t.__prevValue=t.value),t.value=e.dataset.value,t.name=e.innerText},__scrollingComplete:function(){var e=this,t=Math.round((e.__scrollTop-e.__minScrollTop-e.__itemHeight/2)/e.__itemHeight);e.__selectItem(e.__content.children[t]),null!==e.__prevValue&&e.__prevValue!==e.value&&e.options.onSelect({value:e.value,name:e.name})},__doTouchStart:function(e,t){var o=this;if(null===e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);o.__interruptedAnimation=!0,o.__isDecelerating&&(r.default.stop(o.__isDecelerating),o.__isDecelerating=!1,o.__interruptedAnimation=!0),o.__isAnimating&&(r.default.stop(o.__isAnimating),o.__isAnimating=!1,o.__interruptedAnimation=!0);var a,i=1===e.length;a=i?e[0].pageY:Math.abs(e[0].pageY+e[1].pageY)/2,o.__initialTouchTop=a,o.__lastTouchTop=a,o.__lastTouchMove=t,o.__lastScale=1,o.__enableScrollY=!i,o.__isTracking=!0,o.__didDecelerationComplete=!1,o.__isDragging=!i,o.__isSingleTouch=i,o.__positions=[]},__doTouchMove:function(e,t,o){var a=this;if(null===e.length)throw new Error("Invalid touch list: "+e);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);if(a.__isTracking){var i;i=2===e.length?Math.abs(e[0].pageY+e[1].pageY)/2:e[0].pageY;var l=a.__positions;if(a.__isDragging){var n=i-a.__lastTouchTop,r=a.__scrollTop;if(a.__enableScrollY){r-=n;var s=a.__minScrollTop,c=a.__maxScrollTop;(r>c||r<s)&&(r=r>c?c:s)}l.length>40&&l.splice(0,20),l.push(r,t),a.__publish(r)}else{var u=0,_=5,d=Math.abs(i-a.__initialTouchTop);a.__enableScrollY=d>=u,l.push(a.__scrollTop,t),a.__isDragging=a.__enableScrollY&&d>=_,a.__isDragging&&(a.__interruptedAnimation=!1)}a.__lastTouchTop=i,a.__lastTouchMove=t,a.__lastScale=o}},__doTouchEnd:function(e){var t=this;if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);if(t.__isTracking){if(t.__isTracking=!1,t.__isDragging&&(t.__isDragging=!1,t.__isSingleTouch&&e-t.__lastTouchMove<=100)){for(var o=t.__positions,a=o.length-1,i=a,l=a;l>0&&o[l]>t.__lastTouchMove-100;l-=2)i=l;if(i!==a){var n=o[a]-o[i],r=t.__scrollTop-o[i-1];t.__decelerationVelocityY=r/n*(1e3/60);var s=4;Math.abs(t.__decelerationVelocityY)>s&&t.__startDeceleration(e)}}t.__isDecelerating||t.scrollTo(t.__scrollTop),t.__positions.length=0}},__publish:function(e,t){var o=this,a=o.__isAnimating;if(a&&(r.default.stop(a),o.__isAnimating=!1),t){o.__scheduledTop=e;var n=o.__scrollTop,s=e-n,c=function(e,t,a){o.__scrollTop=n+s*e,o.__callback&&o.__callback(o.__scrollTop)},u=function(e){return o.__isAnimating===e},_=function(e,t,a){t===o.__isAnimating&&(o.__isAnimating=!1),(o.__didDecelerationComplete||a)&&o.__scrollingComplete()};o.__isAnimating=r.default.start(c,u,_,t,a?i:l)}else o.__scheduledTop=o.__scrollTop=e,o.__callback&&o.__callback(e)},__startDeceleration:function(e){var t=this;t.__minDecelerationScrollTop=t.__minScrollTop,t.__maxDecelerationScrollTop=t.__maxScrollTop;var o=function(e,o,a){t.__stepThroughDeceleration(a)},a=.5,i=function(){var e=Math.abs(t.__decelerationVelocityY)>=a;return e||(t.__didDecelerationComplete=!0),e},l=function(e,o,a){return t.__isDecelerating=!1,t.__scrollTop<=t.__minScrollTop||t.__scrollTop>=t.__maxScrollTop?void t.scrollTo(t.__scrollTop):void(t.__didDecelerationComplete&&t.__scrollingComplete())};t.__isDecelerating=r.default.start(o,i,l)},__stepThroughDeceleration:function(e){var t=this,o=t.__scrollTop+t.__decelerationVelocityY,a=Math.max(Math.min(t.__maxDecelerationScrollTop,o),t.__minDecelerationScrollTop);a!==o&&(o=a,t.__decelerationVelocityY=0),Math.abs(t.__decelerationVelocityY)<=1?Math.abs(o%t.__itemHeight)<1&&(t.__decelerationVelocityY=0):t.__decelerationVelocityY*=.95,t.__publish(o)}}};t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=60,a=1e3,i={},l=1,n=Date.now||function(){return+new Date},r={requestAnimationFrame:function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame;return function(t,o){e(t,o)}}(),stop:function(e){var t=null!=i[e];return t&&(i[e]=null),t},isRunning:function(e){return null!=i[e]},start:function e(t,s,c,u,_,d){var e=n(),p=e,f=0,h=0,m=l++;if(d||(d=document.body),m%20===0){var v={};for(var g in i)v[g]=!0;i=v}var y=function l(v){var g=v!==!0,y=n();if(!i[m]||s&&!s(m))return i[m]=null,void(c&&c(o-h/((y-e)/a),m,!1));if(g)for(var T=Math.round((y-p)/(a/o))-1,x=0;x<Math.min(T,4);x++)l(!0),h++;u&&(f=(y-e)/u,f>1&&(f=1));var D=_?_(f):f;t(D,y,g)!==!1&&1!==f||!g?g&&(p=y,r.requestAnimationFrame(l,d)):(i[m]=null,c&&c(o-h/((y-e)/a),m,1===f||null==u))};return i[m]=!0,r.requestAnimationFrame(y,d),m}};t.default=r},function(e,t){e.exports='<div class=scroller-component data-role=component><div class=scroller-mask data-role=mask></div><div class=scroller-indicator data-role=indicator></div><div class=scroller-content data-role=content><template v-for="item in scrollData"><p class=scroller-item :data-value=item.value :data-name=item.name>{{item.name}}</p></template></div></div>'},function(e,t){e.exports='<div class=u-scroller :class="{\'active\': isShow}"><div class=u-scroller-mark></div><div class=u-scroller-mod><div class=u-scroller-hd><span @click="close(\'claer\')" class=u-scroller-claer>取消</span> <span @click="confirm(\'confirm\')" class=u-scroller-confirm>确认</span></div><div class=u-scroller-bd><scroll-slot @change-solt=getData v-for="(item, index) in scroll" :slot-index=index :scroll-data="item.data || item" :default-value="item.defaultValue || 0"></scroll-slot></div></div></div>'}])})},function(e,t){},,,,function(e,t){e.exports=" <scroller @confirm=addressConfirm ref=scroller @claer=addressClaer @change=addressChange :scroll=scrollData></scroller> "}])});